# CI / CD

빌드 자동화와 이어지는 내용이다.

사실 CI/CD 개념만 보자면 자동화와 직접적으로 관련 있지는 않다.  
그럼에도 불구하고 CI/CD 하면 항상 따라오는 것이 자동화이다.

프로젝트의 크기가 커질수록 자동화가 배제된 CI/CD는 상상하기 어렵다.

&nbsp;

## CI

CI는 지속적 통합(Continuous Integration)으로,  
모든 개발이 끝난 이후에 코드 품질을 관리하는 고전적 방식의 단점을 해소하기 위해 나타난 개념이다.

말그대로 개발을 하면서 '코드에 대한 통합'을 '지속적'으로 진행함으로써 품질을 유지하는 것이다.

&nbsp;

10명의 개발자가 참여하는 프로젝트가 있다고 가정해보자.  
git에는 기본 틀이 잡혀있는 코드가 올라와있고, 각 개발자가 자신의 로컬 환경에 clone 받아 작업을 시작한다.  
그런데 개발이 끝날 때까지 모든 개발자가 한 번도 중앙 저장소에 코드를 올리지 않았고,  
개발이 끝난 이후 10명 분의 코드를 한 번에 통합해야 하는 상황이라면?

다른 예시로, 건물을 다 짓고 마지막에 대규모 보수공사를 하는 것보다,  
층을 하나씩 쌓을 때마다 올바르게 지어지고 있는지 체크해주는 것이 질적, 비용적 측면에서 모두 유리할 것이다.

&nbsp;

그렇다면 지속적 통합을 이루기 위해 어떻게 해야할까?

```java
1. 모든 개발자는 퇴근하기 전에 자신의 코드를 중앙 코드와 통합한다.

2. 통합된 코드에서 본인의 코드가 제대로 동작하는지 테스트한다.

3. 통합된 코드가 제대로 빌드되는지 테스트한다.

4. 결과를 정리하고. 버그가 있다면 다음날 업무 목록에 적어둔다.
```

CI의 단점이 있다면, '너무 귀찮다'는 것이다.

코드가 커질수록 테스트 양은 물론이거니 테스트 시간도 길어진다.  
게다가 이것은 사람이 일일이 돌리지 않아도 되는 지루한 반복 작업이다.

&nbsp;

git에 코드만 올려놓으면 알아서 테스트와 빌드를 수행하고,  
그 결과를 잘 정리해 개발자에게 자동으로 알려주는 프로그램이 있다면 좋지 않을까?  

그렇기에 CI를 설명할 때 항상 자동화라는 키워드가 따라다니는 것이다.

CI 자동화가 잘 이루어졌을 때, 위의 규칙들은 단순해진다.

```java
1. 모든 개발자는 퇴근하기 전에 자신의 코드를 중앙 코드와 통합한다.

2. 다음날 출근시 메일로 발송된 결과 리포트를 확인하고 버그가 있으면 수정한다.
```

테스트나 빌드 등 복잡한 절차가 모두 생략되고, 그냥 퇴근 전에 코드를 git에 올리고 가면 되는 것이다.

&nbsp;

## CD

CD란 지속적 배포(Continuous Deploy 또는 Delivery)로써,  
소프트웨어가 항상 신뢰 가능한 수준에서 배포될 수 있도록 지속적으로 관리하자는 개념이다.

CI의 연장선이다.  
배포 이전에 테스트와 빌드는 필수적이기 때문에, 사실상 CD가 되려면 항상 CI가 선행되어야 한다고 봐도 무방하다.

&nbsp;

즉, CI 프로세스를 통해 개발 중에 지속적으로 빌드와 테스트를 진행하고,  
이를 통과한 코드에 대하여 테스트 서버와 운영서버에 곧바로 그 내용을 배포해 반영하는 것이다.

이상적인 환경이라면 테스트와 빌드가 '지속적'으로 이루어지기 때문에,  
배포 또한 자연스럽게 '지속적'으로 이루어지게 된다.

&nbsp;

- CI
: 빌드 및 테스트 자동화
- CD
: 배포 자동화

중요한 것은, 코드 품질 관리에 있어서 CI/CD 자동화가 '왜' 필요하며, 이러한 시스템을 구축하는 것이 '왜' 중요한지에 대해 이해하는 것이다.

&nbsp;

## 다음은?

CI/CD를 자동화하기 위해서는 고려해야할 부분이 많으며,  
언제, 어떤 자동화 프로세스를, 어떻게 돌리고, 어떤 방식으로 결과를 리포트 할 지 등의 절차를 매우 엄밀히 정의 해야 한다.

다행히도 CircleCI, Travis, Jenkins와 같이,  
CI/CD 자동화를 조금이나마 쉽게 구현할 수 있도록 도와주는 솔루션들이 있다.
