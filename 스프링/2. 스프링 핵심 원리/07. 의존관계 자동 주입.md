# ğŸŒ± ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…

## ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ë‘ ê°€ì§€ ë¼ì´í”„ ì‚¬ì´í´

1. ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡ (ì‹±ê¸€í„´ ë³´ì¥)
2. ì—°ê´€ê´€ê³„ ì°¾ì•„ ìë™ìœ¼ë¡œ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…

&nbsp;

## ë‹¤ì–‘í•œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë°©ë²•

ì˜ì¡´ê´€ê³„ ì£¼ì…ì€ í¬ê²Œ 4ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.

1. ìƒì„±ì ì£¼ì…
2. ìˆ˜ì •ì ì£¼ì… (setter ì£¼ì…)
3. í•„ë“œ ì£¼ì…
4. ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…

### ìƒì„±ì ì£¼ì…

ìƒì„±ìì— `@Autowired`: `@Component`ë¥¼ í†µí•´ ìŠ¤í”„ë§ ë¹ˆì— ë“±ë¡ë  ë•Œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ í•´ë‹¹ ë¹ˆì„ ì°¾ì•„ ì£¼ì… í•´ì¤€ë‹¤.

- ì´ë¦„ ê·¸ëŒ€ë¡œ ìƒì„±ìë¥¼ í†µí•´ì„œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ëŠ” ë°©ë²•ì´ë‹¤.
- ì§€ê¸ˆê¹Œì§€ ìš°ë¦¬ê°€ ì§„í–‰í–ˆë˜ ë°©ë²•ì´ ë°”ë¡œ ìƒì„±ì ì£¼ì…ì´ë‹¤.
- íŠ¹ì§•
    - ìƒì„±ì í˜¸ì¶œì‹œì ì— ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥ëœë‹¤. â†’ ì´í›„ ê°’ì„ ë³€ê²½ ëª» í•˜ê²Œ ë§‰ì„ ìˆ˜ ìˆë‹¤.
    - **ë¶ˆë³€, í•„ìˆ˜** ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©
        - ë¶ˆë³€: ìƒì„±ìë¥¼ í†µí•´ì„œë§Œ ì˜ì¡´ê´€ê³„ê°€ ì£¼ì…ë˜ê³ , ì´í›„ ì™¸ë¶€ì—ì„œ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.
        - í•„ìˆ˜: ë¬´ì¡°ê±´ ê°’ì´ ìˆì–´ì•¼ í•œë‹¤.

```java
@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

		// @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
}
```

**ì¤‘ìš”!** *ìƒì„±ìê°€ ë”± 1ê°œë§Œ ìˆìœ¼ë©´ `@Autowired`ë¥¼ ìƒëµí•´ë„ ìë™ ì£¼ì… ëœë‹¤*. ë¬¼ë¡  ìŠ¤í”„ë§ ë¹ˆì—ë§Œ í•´ë‹¹í•œë‹¤.

### ìˆ˜ì •ì (setter ì£¼ì…)

`setter` ë¼ ë¶ˆë¦¬ëŠ” í•„ë“œì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ìˆ˜ì •ì ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…í•˜ëŠ” ë°©ë²•ì´ë‹¤.  

- íŠ¹ì§•
    - **ì„ íƒ, ë³€ê²½** ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ê´€ê³„ì— ì‚¬ìš© (final í•„ë“œ X)
        - ì„ íƒ: ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ì§€ ì•Šì€ ì¸ìŠ¤í„´ìŠ¤ë„ ì£¼ì… ê°€ëŠ¥, `required = false`ë¡œ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ì–´ë„ ë™ì‘í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.
        - ë³€ê²½: ë³€ê²½ ê°€ëŠ¥ì„± ìˆëŠ” ì˜ì¡´ê´€ê³„ ì‚¬ìš©ì‹œ ì¤‘ê°„ì— setterë¥¼ í˜¸ì¶œí•´ ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½ ê°€ëŠ¥
    - ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì˜ ìˆ˜ì •ì ë©”ì„œë“œ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```java
@Component
public class OrderServiceImpl implements OrderService {
    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```

> ì°¸ê³ : `@Autowired` ì˜ ê¸°ë³¸ ë™ì‘ì€ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì£¼ì…í•  ëŒ€ìƒì´ ì—†ì–´ë„ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ `@Autowired(required = false)` ë¡œ ì§€ì •í•˜ë©´ ëœë‹¤.

> ì°¸ê³ : ìë°”ë¹ˆ í”„ë¡œí¼í‹°, ìë°”ì—ì„œëŠ” ê³¼ê±°ë¶€í„° í•„ë“œì˜ ê°’ì„ ì§ì ‘ ë³€ê²½í•˜ì§€ ì•Šê³ , `setXxx`, `getXxx` ë¼ëŠ” ë©”ì„œ ë“œë¥¼ í†µí•´ì„œ ê°’ì„ ì½ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” ê·œì¹™ì„ ë§Œë“¤ì—ˆëŠ”ë°, ê·¸ê²ƒì´ ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì´ë‹¤.

**ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ ì˜ˆì‹œ**

```java
class Data {
    private int age;
    public void setAge(int age) {
      this.age = age;
    }
    public int getAge() {
      return age;
		}
}
```

&nbsp;

### í•„ë“œ ì£¼ì…

ì´ë¦„ ê·¸ëŒ€ë¡œ í•„ë“œì— ë°”ë¡œ ì£¼ì…í•˜ëŠ” ë°©ë²•ì´ë‹¤.

- íŠ¹ì§•
    - ì½”ë“œê°€ ê°„ê²°í•´ì„œ ë§ì€ ê°œë°œìë“¤ì„ ìœ í˜¹í•˜ì§€ë§Œ ì™¸ë¶€ì—ì„œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•´ì„œ í…ŒìŠ¤íŠ¸ í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ì¹˜ëª…ì ì¸ ë‹¨ì ì´ ìˆë‹¤.
    - DI í”„ë ˆì„ì›Œí¬ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤.
    - ì‚¬ìš©í•˜ì§€ ë§ì! ì•„ë˜ì™€ ê°™ì€ ê²½ìš°ì—” ì‚¬ìš©í•´ë„ ëœë‹¤.  
        - ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ì½”ë“œì™€ ê´€ê³„ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ
        - ìŠ¤í”„ë§ ì„¤ì •ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” `@Configuration` ê°™ì€ ê³³ì—ì„œë§Œ íŠ¹ë³„í•œ ìš©ë„ë¡œ ì‚¬ìš©

```java
@Component
public class OrderServiceImpl implements OrderService {
    
	@Autowired
	private MemberRepository memberRepository;
    
	@Autowired
	private DiscountPolicy discountPolicy;
}
```

> ì°¸ê³ : ìˆœìˆ˜í•œ ìë°” í…ŒìŠ¤íŠ¸ ì½”ë“œì—ëŠ” ë‹¹ì—°íˆ `@Autowired`ê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. `@SpringBootTest` ì²˜ëŸ¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ í…ŒìŠ¤íŠ¸ì— í†µí•©í•œ ê²½ìš°ì—ë§Œ ê°€ëŠ¥í•˜ë‹¤.

> ì°¸ê³ : ë‹¤ìŒ ì½”ë“œì™€ ê°™ì´ @Bean ì—ì„œ íŒŒë¼ë¯¸í„°ì— ì˜ì¡´ê´€ê³„ëŠ” ìë™ ì£¼ì…ëœë‹¤. ìˆ˜ë™ ë“±ë¡ì‹œ ìë™ ë“±ë¡ëœ ë¹ˆì˜ ì˜ì¡´ê´€ê³„ê°€ í•„ìš”í•  ë•Œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```java
@Bean
OrderService orderService(MemberRepository memberRepoisitory, DiscountPolicy discountPolicy) {
    new OrderServiceImpl(memberRepository, discountPolicy)
}
```
