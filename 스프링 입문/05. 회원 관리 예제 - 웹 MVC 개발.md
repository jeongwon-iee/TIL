# ğŸŒ± íšŒì› ê´€ë¦¬ ì˜ˆì œ - ì›¹ MVC ê°œë°œ

## íšŒì› ì›¹ ê¸°ëŠ¥ - í™ˆ í™”ë©´ ì¶”ê°€

**HomeController.java**

```java
@Controller
public class HomeController {

    @GetMapping("/")
    public String home() {
        return "home";
    }
}
```

**resources/templates/home.html**

```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <div class="container">
        <div>
            <h1>Hello Spring</h1> <p>íšŒì› ê¸°ëŠ¥</p>
            <p>
                <a href="/members/new">íšŒì› ê°€ì…</a> <a href="/members">íšŒì› ëª©ë¡</a>
            </p> </div>
    </div> <!-- /container -->
</body>
</html>
```

ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” static content locationì—ì„œ `index.html`ì„ ì°¾ê³  ì›°ì»´ í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ì§€ë§Œ,  
**ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì •ì  íŒŒì¼ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ìœ¼ë¯€ë¡œ,** ìš”ì²­ì´ ì˜¤ë©´ ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬ë¶€í„° ì°¾ê³ , ì—†ë‹¤ë©´ static í´ë”ë¥¼ ì°¾ëŠ”ë‹¤. ë”°ë¼ì„œ index.htmlì€ ë¬´ì‹œë˜ê³ , homeControllerê°€ ì¡´ì¬í•˜ë¯€ë¡œ home.htmlì´ ë Œë”ë§ ëœë‹¤.

&nbsp;

## íšŒì› ì›¹ ê¸°ëŠ¥ - ë“±ë¡

### **íšŒì› ë“±ë¡ í¼ ì»¨íŠ¸ë¡¤ëŸ¬**

```java
@Controller
    public class MemberController {
        private final MemberService memberService;
        @Autowired
        public MemberController(MemberService memberService) {
            this.memberService = memberService;
        }
        @GetMapping(value = "/members/new")
        public String createForm() {
            return "members/createMemberForm";
        }
}
```

**resources/templates/members/createMemberForm**

```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div class="container">
            <form action="/members/new" method="post">
                <div class="form-group">
                    <label for="name">ì´ë¦„</label>
                    <input type="text" id="name" name="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <button type="submit">ë“±ë¡</button> </form>
        </div> <!-- /container -->
    </body>
</html>
```

**íšŒì› ë“±ë¡ í™”ë©´ì—ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬ ë°›ì„ í¼ ê°ì²´**

```java
public class MemberForm {
    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
```

### **íšŒì› ë“±ë¡ ì»¨íŠ¸ë¡¤ëŸ¬**

```java
@GetMapping("members/new")
    public String createForm() {
        return "members/createMemberForm";
    }

@PostMapping("members/new")
    public String create(MemberForm memberForm) {
        Member member = new Member();
        member.setName(memberForm.getName());

        memberService.join(member);

        return "redirect:/";
    }
```

### ì›ë¦¬

- [íšŒì› ê°€ì…] í´ë¦­ â†’ `members/new` â†’ (urlë¡œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” http GET ë°©ì‹) MemberController
- GetMappingëœ `createForm()` í˜¸ì¶œ â†’ `members/createMemberForm`ìœ¼ë¡œ ì´ë™
- viewResolverê°€ templatesì—ì„œ `members/createMemberForm`ì„ ì°¾ì•„ ë Œë”ë§ (htmlì´ ë¿Œë ¤ì§)
- ë¿Œë ¤ì§„ html(íšŒì› ë“±ë¡ í¼)ì—ëŠ” `action="members/new" method="post"`ì¸ `<form/>` íƒœê·¸ê°€ ì¡´ì¬
- ì´ë¦„ ì…ë ¥ì°½ì— ê°’ì„ ì…ë ¥í•˜ê³  ë“±ë¡ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ `action` urlë¡œ http post ìš”ì²­
- PostMappingëœ `create()` í˜¸ì¶œ â†’ (dataë¥¼ ë“±ë¡í•˜ëŠ” http POST ë°©ì‹)
- MemberFormì˜ `name`í•„ë“œì— setterë¥¼ í†µí•´ í™”ë©´ì—ì„œ ì…ë ¥í•œ `name`ê°’ì´ ë“¤ì–´ì˜´
- MemberFromì—ì„œ getterë¡œ ê°’ì„ êº¼ë‚´ Member ìƒì„±í›„ ì €ì¥ â†’ homeí™”ë©´ (`"/"`)ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

&nbsp;

## íšŒì› ì›¹ ê¸°ëŠ¥ - ì¡°íšŒ

**íšŒì› ì¡°íšŒ ì»¨íŠ¸ë¡¤ëŸ¬**

```java
@GetMapping("members")
    public String list(Model model) {
        List<Member> members = memberService.findMembers();
        model.addAttribute("members", members);
        return "members/memberList";
    }
```

**resources/templates/members/memberList.html**

```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="container">
    <div>
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>ì´ë¦„</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="member : ${members}">
                    <td th:text="${member.id}"></td>
                    <td th:text="${member.name}"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div> <!-- /container -->
</body>
</html>
```

ì—¬ê¸°ì„œ ë³¸ê²©ì ìœ¼ë¡œ íƒ€ì„ë¦¬í”„ê°€ ë™ì‘.

íƒ€ì„ë¦¬í”„ í…œí”Œë¦¿ ì—”ì§„ì´ `${members}`ì—ì„œ ëª¨ë¸ ì•ˆì— ìˆëŠ” ê°’ì„ êº¼ëƒ„ â†’ ë¦¬ìŠ¤íŠ¸ë¥¼ ì½ì–´ë“¤ì—¬ ë Œë”ë§

**ìë°”ë¹ˆ í”„ë¡œí¼í‹° ë°©ì‹ìœ¼ë¡œ ê°ì²´ì— ì ‘ê·¼**

: ê°ì²´ì˜ ë°ì´í„°ëŠ” privateìœ¼ë¡œ ë³´í˜¸í•˜ê³ , ì ‘ê·¼í•  ë•Œ ê³µê°œëœ getter, setter ë©”ì„œë“œë¥¼ í†µí•´ ì ‘ê·¼

`${member.id}` â†’ Member ë„ë©”ì¸ì˜ `getId()` í˜¸ì¶œ

`${member.name}` â†’ Member ë„ë©”ì¸ì˜ `getName()` í˜¸ì¶œ
